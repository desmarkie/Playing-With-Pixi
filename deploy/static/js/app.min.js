/**
 * cor media 2013
 * @author: Mark Dooney (Desmarkie) 
 **/
var App,Dots,InfoPanel,MathUtils,Node,Sketch,Smoky,Spirals,Trails,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};Sketch=function(){function a(a){this.renderer=a}return a.prototype.view=null,a.prototype.cancelled=!1,a.prototype.loaded=!1,a.prototype.renderer=null,a.prototype.stage=null,a.prototype.load=function(){return this.cancelled=!1,this.loaded||requestAnimationFrame(this.update),this.loaded=!0,this.stage.visible=!0,null},a.prototype.unload=function(){return this.cancelled=!0,this.stage.visible=!1,null},a.prototype.update=function(){return requestAnimationFrame(this.update),this.cancelled?void 0:null},a.prototype.resize=function(){return null},a}(),Dots=function(a){function b(a){this.renderer=a,this.handleMouseMove=__bind(this.handleMouseMove,this),this.resize=__bind(this.resize,this),this.update=__bind(this.update,this),this.unload=__bind(this.unload,this),this.load=__bind(this.load,this),this.updateGui=__bind(this.updateGui,this),b.__super__.constructor.call(this,this.renderer)}return __extends(b,a),b.id="Dots",b.prototype.dots=[],b.prototype.deadDots=[],b.prototype.xCounter=0,b.prototype.xLimit=0,b.prototype.xDir=1,b.prototype.yCounter=0,b.prototype.yLimit=0,b.prototype.yDir=1,b.prototype.curX=0,b.prototype.curY=0,b.prototype.mouseX=0,b.prototype.mouseY=0,b.prototype.easeX=0,b.prototype.easeY=0,b.prototype.spriteSize=32,b.prototype.invert=!0,b.prototype.mouseTrail=!0,b.prototype.xFollow=!1,b.prototype.xBounce=!0,b.prototype.xLeft=!1,b.prototype.xRight=!1,b.prototype.xOff=!1,b.prototype.lastX="follow",b.prototype.yFollow=!1,b.prototype.yBounce=!1,b.prototype.yUp=!1,b.prototype.yDown=!0,b.prototype.yOff=!1,b.prototype.lastY="follow",b.prototype.updateGui=function(){var a,b,c,d;for(d=this.gui.__controllers,b=0,c=d.length;c>b;b++)a=d[b],a.updateDisplay();return null},b.prototype.load=function(){var a=this;return this.loaded||(this.stage=new PIXI.Stage(window.app.stageColor),this.createSprites(),this.view=document.createElement("div"),this.view.appendChild(this.renderer.view),this.gui=new dat.GUI({autoPlace:!1}),this.gui.domElement.style.zIndex=100,this.gui.domElement.style.position="absolute",this.gui.domElement.style.top=0,this.gui.domElement.style.left=0,this.gui.domElement.style.height="auto",this.view.appendChild(this.gui.domElement),this.gui.add(this,"spriteSize",16,128,8).onFinishChange(function(b){return a.spriteSize=b,a.resize()}),this.gui.add(this,"invert"),this.gui.add(this,"mouseTrail"),this.gui.add(this,"xFollow").onChange(function(b){return a.xFollow=b,(a.xFollow=!0)?a.xBounce=a.xLeft=a.xRight=a.xOff=!1:(a.lastX="follow",a.xBounce=a.xLeft=a.xRight=!1,a.xOff=!0),a.updateGui()}),this.gui.add(this,"xBounce").onChange(function(b){return a.xFollow=b,(a.xBounce=!0)?a.xFollow=a.xLeft=a.xRight=a.xOff=!1:(a.lastX="bounce",a.xFollow=a.xLeft=a.xRight=!1,a.xOff=!0),a.updateGui()}),this.gui.add(this,"xLeft").onChange(function(b){return a.xFollow=b,(a.xLeft=!0)?(a.xDir=-1,a.xFollow=a.xBounce=a.xRight=a.xOff=!1):(a.lastX="left",a.xFollow=a.xBounce=a.xRight=!1,a.xOff=!0),a.updateGui()}),this.gui.add(this,"xRight").onChange(function(b){return a.xFollow=b,(a.xRight=!0)?(a.xDir=1,a.xFollow=a.xBounce=a.xLeft=a.xOff=!1):(a.lastX="right",a.xFollow=a.xBounce=a.xLeft=!1,a.xOff=!0),a.updateGui()}),this.gui.add(this,"xOff").onChange(function(b){return a.xOff=b,a.xOff?(a.xFollow?a.lastX="follow":a.xBounce?a.lastX="bounce":a.xLeft?a.lastX="left":a.xRight&&(a.lastX="right"),a.xFollow=a.xBounce=a.xLeft=a.xRight=!1):"follow"===a.lastX?a.xFollow=!0:"bounce"===a.lastX?a.xBounce=!0:"left"===a.lastX?a.xLeft=!0:"right"===a.lastX&&(a.xRight=!0),a.updateGui()}),this.gui.add(this,"yFollow").onChange(function(b){return a.yFollow=b,(a.yFollow=!0)?a.yBounce=a.yUp=a.yDown=a.yOff=!1:(a.lastY="follow",a.yBounce=a.yUp=a.yDown=!1,a.yOff=!0),a.updateGui()}),this.gui.add(this,"yBounce").onChange(function(b){return a.yFollow=b,(a.yBounce=!0)?a.yFollow=a.yUp=a.yDown=a.yOff=!1:(a.lastY="bounce",a.yFollow=a.yUp=a.yDown=!1,a.yOff=!0),a.updateGui()}),this.gui.add(this,"yUp").onChange(function(b){return a.yFollow=b,(a.yUp=!0)?(a.yDir=-1,a.yFollow=a.yBounce=a.yDown=a.yOff=!1):(a.lastY="left",a.yFollow=a.yBounce=a.yDown=!1,a.yOff=!0),a.updateGui()}),this.gui.add(this,"yDown").onChange(function(b){return a.yFollow=b,(a.yDown=!0)?(a.yDir=1,a.yFollow=a.yBounce=a.yUp=a.yOff=!1):(a.lastY="right",a.yFollow=a.yBounce=a.yUp=!1,a.yOff=!0),a.updateGui()}),this.gui.add(this,"yOff").onChange(function(b){return a.yOff=b,a.yOff?(a.yFollow?a.lastY="follow":a.yBounce?a.lastY="bounce":a.yUp?a.lastY="up":a.yDown&&(a.lastY="down"),a.yFollow=a.yBounce=a.yUp=a.yDown=!1):"follow"===a.lastY?a.yFollow=!0:"bounce"===a.lastY?a.yBounce=!0:"up"===a.lastY?a.yUp=!0:"down"===a.lastY&&(a.yDown=!0),a.updateGui()}),this.gui.close()),b.__super__.load.call(this),this.view.appendChild(this.renderer.view),this.xLimit=this.dots.length,this.yLimit=this.dots[0].length,window.onmousemove=this.handleMouseMove,null},b.prototype.unload=function(){return b.__super__.unload.call(this),window.onmousemove=null,null},b.prototype.update=function(){var a,c,d,e,f,g,h,i;if(b.__super__.update.call(this),!this.cancelled){for(this.xFollow&&(this.xCounter=this.curX),this.yFollow&&(this.yCounter=this.curY),a=f=0,h=this.xCount;h>=f;a=f+=1)for(c=g=0,i=this.yCount;i>=g;c=g+=1)d=this.dots[a][c],e=1,this.invert&&(e=0),this.xOff||a!==this.xCounter||(d.alpha=e,d.scale.x=d.scale.y=e*(this.spriteSize/32)),this.yOff||c!==this.yCounter||(d.alpha=e,d.scale.x=d.scale.y=e*(this.spriteSize/32)),this.invert?d.alpha<1&&(d.alpha+=.05,d.scale.x+=.05,d.scale.y+=.05,d.alpha>1&&(d.alpha=1),d.scale.x>1&&(d.scale.x=d.scale.y=this.spriteSize/32)):d.alpha>0&&(d.alpha-=.05,d.scale.x-=.05,d.scale.y-=.05,d.alpha<0&&(d.alpha=0),d.scale.x<0&&d.scale.x-(d.scale.y=0));return this.xOff||(this.xCounter+=this.xDir,this.xLeft||this.xRight?(this.xCounter%=this.xLimit,this.xCounter<0&&(this.xCounter=this.xLimit-1)):this.xBounce&&(this.xCounter===this.xLimit?(this.xCounter=this.xLimit-2,this.xDir*=-1):this.xCounter<0&&(this.xCounter=1,this.xDir*=-1))),this.yOff||(this.yCounter+=this.yDir,this.yUp||this.yDown?(this.yCounter%=this.yLimit,this.yCounter<0&&(this.yCounter=this.yLimit-1)):this.yBounce&&(this.yCounter===this.yLimit?(this.yCounter=this.yLimit-2,this.yDir*=-1):this.yCounter<0&&(this.yCounter=1,this.yDir*=-1))),this.easeX+=(this.mouseX-this.easeX)/45,this.easeY+=(this.mouseY-this.easeY)/45,this.curX=Math.floor(this.easeX/this.spriteSize),this.curY=Math.floor(this.easeY/this.spriteSize),this.renderer.render(this.stage),null}},b.prototype.resize=function(){var a,b,c,d,e,f;if(this.loaded){for(a=c=e=this.dots.length-1;c>=0;a=c+=-1)for(b=d=f=this.dots[a].length-1;d>=0;b=d+=-1)this.stage.removeChild(this.dots[a][b]),this.dots[a].splice(b,1);this.dots=[],this.createSprites(),this.xLimit=this.dots.length,this.yLimit=this.dots[0].length}return null},b.prototype.handleMouseMove=function(a){var b,c,d;return this.mouseX=a.pageX,this.mouseY=a.pageY,this.mouseTrail&&(c=Math.floor(this.mouseX/this.spriteSize),d=Math.floor(this.mouseY/this.spriteSize),b=1,this.invert&&(b=0),this.dots[c][d].alpha=b,this.dots[c]&&this.dots[c][d-1]&&(this.dots[c][d-1].alpha=b,this.dots[c][d-1].scale.x=this.dots[c][d-1].scale.y=b*(this.spriteSize/32)),this.dots[c]&&this.dots[c][d+1]&&(this.dots[c][d+1].alpha=b,this.dots[c][d+1].scale.x=this.dots[c][d+1].scale.y=b*(this.spriteSize/32)),this.dots[c-1]&&this.dots[c-1][d]&&(this.dots[c-1][d].alpha=b,this.dots[c-1][d].scale.x=this.dots[c-1][d].scale.y=b*(this.spriteSize/32)),this.dots[c+1]&&this.dots[c+1][d]&&(this.dots[c+1][d].alpha=b,this.dots[c+1][d].scale.x=this.dots[c+1][d].scale.y=b*(this.spriteSize/32))),null},b.prototype.createSprites=function(){var a,b,c,d,e,f,g;for(this.xCount=Math.round(window.innerWidth/this.spriteSize),this.yCount=Math.round(window.innerHeight/this.spriteSize),a=d=0,f=this.xCount;f>=d;a=d+=1)for(this.dots[a]=[],b=e=0,g=this.yCount;g>=e;b=e+=1)0===this.deadDots.length?c=new PIXI.Sprite(window.app.textures[0]):(c=this.deadDots[0],this.deadDots.splice(0,1)),c.scale.x=c.scale.y=this.spriteSize/32,c.position.x=a*this.spriteSize,c.position.y=b*this.spriteSize,this.dots[a][b]=c,c.alpha=0,this.stage.addChild(c);return null},b}(Sketch),Node=function(){function a(a,b,c){this.x=a,this.y=b,this.view=c,this.xVel=3-6*Math.random(),this.yVel=3-6*Math.random(),this.sinPos=360*Math.random(),this.sinIncrement=.5*Math.random(),this.scaleAmount=2*Math.random()}return a.prototype.x=0,a.prototype.y=0,a.prototype.view=null,a.prototype.xVel=0,a.prototype.yVel=0,a.prototype.scale=1,a.prototype.sinPos=0,a.prototype.sinIncrement=1,a.prototype.scaleAmount=.5,a}(),Smoky=function(a){function b(a){this.renderer=a,this.mouseMove=__bind(this.mouseMove,this),this.update=__bind(this.update,this),this.resize=__bind(this.resize,this),this.unload=__bind(this.unload,this),this.load=__bind(this.load,this),this.checkDistSq=this.checkDist*this.checkDist,b.__super__.constructor.call(this,this.renderer)}return __extends(b,a),b.id="Smoky",b.prototype.numNodes=200,b.prototype.checkDist=100,b.prototype.checkDistSq=0,b.prototype.nodes=[],b.prototype.sprites=[],b.prototype.load=function(){return this.loaded?(window.onmousemove=this.mouseMove,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.areaWidth=this.windowWidth+400,this.areaHeight=this.windowHeight+400,this.view.appendChild(this.renderer.view),b.__super__.load.call(this),void 0):(this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.areaWidth=this.windowWidth+400,this.areaHeight=this.windowHeight+400,this.stage=new PIXI.Stage(window.app.stageColor),this.view=document.createElement("div"),this.view.appendChild(this.renderer.view),this.createNodes(),this.createSprites(),window.onmousemove=this.mouseMove,b.__super__.load.call(this),console.log("LOAD DONE :: "+b.id))},b.prototype.unload=function(){return window.onmousemove=null,b.__super__.unload.call(this),console.log("DESTROYED IT "+this.cancelled),null},b.prototype.resize=function(){return null},b.prototype.createNodes=function(){var a,b,c;for(console.log("CREATING NODES"),a=b=0,c=this.numNodes;c>=b;a=b+=1)this.nodes.push(new Node(Math.random()*this.windowWidth,Math.random()*this.windowHeight));return null},b.prototype.createSprites=function(){var a,b,c,d;for(console.log("CREATING SPRITES"),this.tex=window.app.textures[0],a=c=0,d=this.numNodes;d>=c;a=c+=1)b=new PIXI.Sprite(this.tex),b.pivot.x=16,b.pivot.y=16,b.blendMode=PIXI.blendModes.SCREEN,b.alpha=.1+.2*Math.random(),this.sprites.push(b),this.stage.addChild(b);return null},b.prototype.updateSprites=function(){var a,b,c,d;for(b=c=0,d=this.numNodes;d>=c;b=c+=1)this.nodes[b].x+=this.nodes[b].xVel,this.nodes[b].y+=this.nodes[b].yVel,this.nodes[b].sinPos+=this.nodes[b].sinIncrement,this.nodes[b].sinPos%=360,this.nodes[b].scale=10+Math.sin(this.nodes[b].sinPos*(Math.PI/180))*this.nodes[b].scaleAmount,this.nodes[b].x>this.windowWidth+200?this.nodes[b].x-=this.areaWidth:this.nodes[b].x<-200&&(this.nodes[b].x+=this.areaWidth),this.nodes[b].y>this.windowHeight+200?this.nodes[b].y-=this.areaHeight:this.nodes[b].y<-200&&(this.nodes[b].y+=this.areaHeight),a=this.distanceTo(this.nodes[b],{x:this.curX,y:this.curY}),a.dist<this.checkDistSq&&(this.nodes[b].xVel=-1*a.xDif/this.checkDist*5,this.nodes[b].yVel=-1*a.yDif/this.checkDist*5),this.sprites[b].position.x=this.nodes[b].x,this.sprites[b].position.y=this.nodes[b].y,this.sprites[b].scale.x=this.sprites[b].scale.y=this.nodes[b].scale;return null},b.prototype.distanceTo=function(a,b){var c,d;return c=b.x-a.x,d=b.y-a.y,{xDif:c,yDif:d,dist:c*c+d*d}},b.prototype.update=function(){return b.__super__.update.call(this),this.cancelled?void 0:(this.updateSprites(),this.renderer.render(this.stage),null)},b.prototype.mouseMove=function(a){return this.curX=a.pageX,this.curY=a.pageY,null},b}(Sketch),MathUtils=function(){function a(){}return a.degToRadValue=Math.PI/180,a.radToDegValue=180/Math.PI,a.twoPI=2*Math.PI,a.degToRad=function(b){return b*a.degToRadValue},a.radToDeg=function(b){return b*a.radToDegValue},a}(),Spirals=function(a){function b(a){this.renderer=a,this.createSprite=__bind(this.createSprite,this),this.createNode=__bind(this.createNode,this),this.distToMidpoint=__bind(this.distToMidpoint,this),this.updateNodes=__bind(this.updateNodes,this),this.randomisePattern=__bind(this.randomisePattern,this),this.resize=__bind(this.resize,this),this.update=__bind(this.update,this),this.unload=__bind(this.unload,this),this.load=__bind(this.load,this),b.__super__.constructor.call(this,this.renderer)}return __extends(b,a),b.id="Spirals",b.prototype.midPoint=null,b.prototype.nodes=[],b.prototype.deadNodes=[],b.prototype.newNodeCount=1,b.prototype.newNodeLimit=10,b.prototype.changeCount=720,b.prototype.changeLimit=720,b.prototype.rotateSpeed=11,b.prototype.moveSpeed=.6,b.prototype.sqDist=100,b.prototype.load=function(){var a=this;return this.loaded||(this.stage=new PIXI.Stage(window.app.stageColor),this.view=document.createElement("div"),this.view.appendChild(this.renderer.view),this.gui=new dat.GUI({autoPlace:!1}),this.gui.domElement.style.zIndex=100,this.gui.domElement.style.position="absolute",this.gui.domElement.style.top=0,this.gui.domElement.style.left=0,this.gui.domElement.style.height="auto",this.view.appendChild(this.gui.domElement),this.gui.add(this,"rotateSpeed",-50,50).listen().onChange(function(){return a.changeCount=a.changeLimit}),this.gui.add(this,"moveSpeed",.1,10).listen().onChange(function(){return a.changeCount=a.changeLimit}),this.gui.close()),this.midPoint={x:.5*window.innerWidth,y:.5*window.innerHeight},this.sqDist=.5*window.innerWidth*.5*window.innerWidth,this.view.appendChild(this.renderer.view),this.randomisePattern(),b.__super__.load.call(this),null},b.prototype.unload=function(){return b.__super__.unload.call(this),null},b.prototype.update=function(){var a;return b.__super__.update.call(this),this.cancelled?void 0:(window.app.spacePressed&&(this.changeCount=this.changeLimit,window.app.spacePressed=!1,this.randomisePattern()),this.newNodeCount--,0===this.newNodeCount&&(this.newNodeCount=this.newNodeLimit,a=this.createNode(),this.nodes.push(a),this.stage.addChild(a.sprite)),this.changeCount--,0===this.changeCount&&(this.randomisePattern(),this.changeCount=this.changeLimit),this.updateNodes(),this.renderer.render(this.stage),null)},b.prototype.resize=function(){return this.midPoint.x=.5*window.innerWidth,this.midPoint.y=.5*window.innerHeight,this.sqDist=.5*window.innerWidth*.5*window.innerWidth,null},b.prototype.randomisePattern=function(){return TweenMax.to(this,.5,{rotateSpeed:-50+100*Math.random(),ease:Power4.easeOut}),TweenMax.to(this,.5,{moveSpeed:3*Math.random(),ease:Power4.easeOut}),null},b.prototype.updateNodes=function(){var a,b,c,d,e,f,g;for(b=f=g=this.nodes.length-1;f>=0;b=f+=-1)e=this.nodes[b],e.y+=this.moveSpeed,a=MathUtils.degToRad(e.phase),c=-e.y*Math.sin(a),d=e.y*Math.cos(a),e.sprite.position.x=this.midPoint.x+c,e.sprite.position.y=this.midPoint.y+d,e.phase+=this.rotateSpeed,e.phase%=360,e.sprite.scale.x=e.sprite.scale.y=.25+this.distToMidpoint(e)/this.sqDist*4,c-80+this.midPoint.x>window.innerWidth&&(this.stage.removeChild(e.sprite),this.nodes.splice(b,1),this.deadNodes.push(e));return null},b.prototype.distToMidpoint=function(a){var b,c;return b=this.midPoint.x-a.sprite.position.x,c=this.midPoint.y-a.sprite.position.y,b*b+c*c},b.prototype.createNode=function(){var a;return 0===this.deadNodes.length?a={y:0,x:0,sprite:this.createSprite(),phase:0}:(a=this.deadNodes[0],this.deadNodes.splice(0,1),a.y=0,a.x=0,a.phase=0),a},b.prototype.createSprite=function(){var a;return a=new PIXI.Sprite(window.app.textures[0]),a.pivot.x=16,a.pivot.y=16,a},b}(Sketch),Trails=function(a){function b(a){this.renderer=a,this.handleMouseMove=__bind(this.handleMouseMove,this),this.update=__bind(this.update,this),this.unload=__bind(this.unload,this),this.load=__bind(this.load,this),b.__super__.constructor.call(this,this.renderer),this.toAdd=1e-11,this.sinIncrement=MathUtils.twoPI/18}return __extends(b,a),b.id="Trails",b.prototype.trailLength=70,b.prototype.sprites=[],b.prototype.positions=[],b.prototype.sinOffset=0,b.prototype.sinIncrement=0,b.prototype.maxScale=4,b.prototype.minScale=1,b.prototype.wobbleAngle=17,b.prototype.load=function(){var a,c,d,e,f=this;if(this.loaded)this.gui.domElement.style.display="block",this.gui.close(),this.view.appendChild(this.renderer.view),window.onmousemove=this.handleMouseMove,b.__super__.load.call(this);else{for(this.curX=this.mouseX=.5*window.innerWidth,this.curY=this.mouseY=.5*window.innerHeight,this.stage=new PIXI.Stage(window.app.stageColor),a=d=0,e=this.trailLength-1;e>=d;a=d+=1)c=new PIXI.Sprite(window.app.textures[0]),c.alpha=0,c.pivot.x=16,c.pivot.y=16,this.stage.addChild(c),this.sprites.push(c);this.view=document.createElement("div"),this.view.appendChild(this.renderer.view),window.onmousemove=this.handleMouseMove,this.gui=new dat.GUI({autoPlace:!1}),this.gui.domElement.style.zIndex=100,this.gui.domElement.style.position="absolute",this.gui.domElement.style.top=0,this.gui.domElement.style.left=0,this.gui.domElement.style.height="auto",this.view.appendChild(this.gui.domElement),this.gui.add(this,"sinIncrement",0,MathUtils.twoPI/5),this.gui.add(this,"wobbleAngle",0,90),this.gui.add(this,"maxScale",0,10).listen().onChange(function(){return f.maxScale<f.minScale?f.minScale=f.maxScale:void 0}),this.gui.add(this,"minScale",0,10).listen().onChange(function(){return f.minScale>f.maxScale?f.maxScale=f.minScale:void 0}),this.gui.close(),b.__super__.load.call(this)}return null},b.prototype.unload=function(){return window.onmousemove=null,this.gui.domElement.style.display="none",b.__super__.unload.call(this),null},b.prototype.update=function(){var a,c,d,e,f,g,h,i,j,k,l;if(b.__super__.update.call(this),!this.cancelled){for(a=MathUtils.degToRad(Math.sin(this.sinOffset)*this.wobbleAngle),h=this.mouseX-this.curX,i=this.mouseY-this.curY,d=h*Math.cos(a)-i*Math.sin(a),e=h*Math.sin(a)+i*Math.cos(a),this.curX+=d/100,this.curY+=e/100,this.positions.push({x:this.curX,y:this.curY}),this.positions.length>this.trailLength&&this.positions.splice(0,1),l=this.positions,f=j=0,k=l.length;k>j;f=++j)g=l[f],this.sprites[f].scale.x=this.minScale+f/this.trailLength*this.maxScale,this.sprites[f].scale.y=this.minScale+f/this.trailLength*this.maxScale,this.sprites[f].position.x=g.x,this.sprites[f].position.y=g.y,this.sprites[f].alpha=f/this.trailLength;return this.renderer.render(this.stage),c=Math.sqrt(h*h+i*i),0===c&&(c=1),this.toAdd=MathUtils.degToRad(30/c),this.sinOffset+=this.sinIncrement+this.toAdd,this.sinOffset%=MathUtils.twoPI,null}},b.prototype.handleMouseMove=function(a){return this.mouseX=a.pageX,this.mouseY=a.pageY,null},b}(Sketch),InfoPanel=function(){function a(){this.resize=__bind(this.resize,this),this.hide=__bind(this.hide,this),this.show=__bind(this.show,this);var a=this;this.view=$("#information-panel"),this.bg=$("#information-panel-bg"),this.contentPanel=$("#information-panel-content"),this.bg.onclick=function(){return a.hide},$(this.bg).css("cursor","pointer"),this.resize()}return a.prototype.view=null,a.prototype.bg=null,a.prototype.contentPanel=null,a.prototype.show=function(){return $(this.view).css("z-index","2000"),TweenMax.to(this.view,1,{css:{opacity:1},ease:Power4.easeOut}),null},a.prototype.hide=function(){var a=this;return TweenMax.to(this.view,1,{css:{opacity:0},ease:Power4.easeOut,onComplete:function(){return $(a.view).css("z-index","2")}}),null},a.prototype.resize=function(){var a,b;return a=.5*(window.innerWidth-$(this.contentPanel).width()),b=.5*(window.innerHeight-$(this.contentPanel).height()),console.log("RESIZING :: "+a+", "+b),$(this.contentPanel).css("top",b+"px"),$(this.contentPanel).css("left",a+"px"),null},a}(),App=function(){function a(){this.prev=__bind(this.prev,this),this.next=__bind(this.next,this),this.handleKeyPress=__bind(this.handleKeyPress,this),this.handleInterfaceOver=__bind(this.handleInterfaceOver,this),this.handleInterfaceOut=__bind(this.handleInterfaceOut,this),this.handleMenuClick=__bind(this.handleMenuClick,this),this.handleInfoClick=__bind(this.handleInfoClick,this),this.handleDivOut=__bind(this.handleDivOut,this),this.handleDivOver=__bind(this.handleDivOver,this),this.init=__bind(this.init,this);var a,b,c,d,e=this;for(this.renderer=PIXI.autoDetectRenderer(window.innerWidth,window.innerHeight),b=[Smoky,Trails,Dots,Spirals],this.textures=[PIXI.Texture.fromImage("img/node.png")],this.sketches=[],c=0,d=b.length;d>c;c++)a=b[c],this.sketches.push({sketch:new a(this.renderer),id:a.id});this.numSketches=this.sketches.length,this.currentSketch=this.sketches.length-1,this["interface"]=document.getElementById("interface"),this.infoButton=document.getElementById("info-button"),this.infoButton.onmouseover=this.handleInterfaceOver,this.infoButton.onmouseout=this.handleInterfaceOut,this.infoButton.onclick=this.handleInfoClick,this.menuButton=document.getElementById("menu-button"),this.menuButton.onmouseover=this.handleInterfaceOver,this.menuButton.onmouseout=this.handleInterfaceOut,this.menuButton.onclick=this.handleMenuClick,this.menuPanel=document.getElementById("menu-panel"),this.nextButton=document.getElementById("next-sketch"),this.prevButton=document.getElementById("previous-sketch"),this.currentButton=document.getElementById("current-sketch"),this.nextButton.onclick=this.next,this.prevButton.onclick=this.prev,this.currentButton.onclick=this.handleMenuClick,this.nextButton.onmouseover=this.prevButton.onmouseover=this.currentButton.onmouseover=this.handleDivOver,this.nextButton.onmouseout=this.prevButton.onmouseout=this.currentButton.onmouseout=this.handleDivOut,this.infoPanel=new InfoPanel,window.onresize=function(){var a,b,c,d,f;for(e.infoPanel.resize(),e.renderer.resize(window.innerWidth,window.innerHeight),d=e.sketches,f=[],b=0,c=d.length;c>b;b++)a=d[b],f.push(a.sketch.resize());return f},this.init()}return a.prototype.sketches=null,a.prototype.currentSketch=0,a.prototype.numSketches=null,a.prototype.liveSketch=null,a.prototype.textures=null,a.prototype.menuPanel=null,a.prototype.infoButton=null,a.prototype.menuButton=null,a.prototype.menuOpen=!1,a.prototype.infoOpen=!0,a.prototype.infoPanel=null,a.prototype.stageColor=921102,a.prototype.spacePressed=!1,a.prototype.init=function(){return window.onkeyup=this.handleKeyPress,null},a.prototype.handleDivOver=function(a){return(a.target===this.nextButton||a.target===this.prevButton||a.target===this.currentButton)&&TweenMax.to(a.target,.3,{css:{color:"rgb(255, 0, 61)"},ease:Power4.easeOut}),null},a.prototype.handleDivOut=function(a){return(a.target===this.nextButton||a.target===this.prevButton||a.target===this.currentButton)&&TweenMax.to(a.target,2,{css:{color:"#dedede"},ease:Power4.easeOut}),null},a.prototype.handleInfoClick=function(){return this.menuOpen&&this.handleMenuClick(),this.infoOpen=!this.infoOpen,this.infoOpen?this.infoPanel.show():this.infoPanel.hide(),null},a.prototype.handleMenuClick=function(){var a=this;return this.infoOpen&&this.handleInfoClick(),this.menuOpen=!this.menuOpen,this.menuOpen?($(this.menuPanel).css("z-index","1200"),TweenMax.to(this.menuPanel,.5,{css:{opacity:1},ease:Power4.easeOut}),TweenMax.to(this.infoButton,.5,{css:{color:"#e3e3e3"},ease:Power4.easeOut})):(TweenMax.to(this.menuPanel,.5,{css:{opacity:0},ease:Power4.easeOut,onComplete:function(){return $(a.menuPanel).css("z-index","1")}}),TweenMax.to(this.menuButton,.5,{css:{color:"#e3e3e3"},ease:Power4.easeOut}),TweenMax.to(this.infoButton,.5,{css:{color:"#e3e3e3"},ease:Power4.easeOut})),null},a.prototype.handleInterfaceOut=function(a){return TweenMax.to(a.target,2,{css:{color:"#e3e3e3"},ease:Power4.easeOut}),null},a.prototype.handleInterfaceOver=function(a){return TweenMax.to(a.target,.15,{css:{color:"rgb(255, 0, 61)"},ease:Power4.easeOut}),null},a.prototype.handleKeyPress=function(a){var b;return a.preventDefault(),b=a.keyCode?a.keyCode:a.charCode,37===b?this.prev():39===b?this.next():32===b&&(this.spacePressed=!0),null},a.prototype.next=function(){var a;return a=this.sketches[this.currentSketch],this.changeSketch("next"),this.unloadSketch(a.sketch),this.updateInfoContent(),null},a.prototype.prev=function(){var a;return a=this.sketches[this.currentSketch],this.changeSketch("prev"),this.unloadSketch(a.sketch),this.updateInfoContent(),null},a.prototype.updateInfoContent=function(){var a,b;return b=this.currentSketch-1,0>b&&(b=this.sketches.length-1),a=this.currentSketch+1,a===this.sketches.length&&(a=0),this.currentButton.innerHTML='<p class="title-copy">'+this.sketches[this.currentSketch].id+"</p>"+this.generateIpsum(this.sketches[this.currentSketch].id),this.prevButton.innerHTML='<p class="title-copy">'+this.sketches[b].id+"</p>",this.nextButton.innerHTML='<p class="title-copy">'+this.sketches[a].id+"</p>",null},a.prototype.unloadSketch=function(a){var b=this;return TweenMax.to(a.view,1,{css:{opacity:0},ease:Power4.easeOut,onComplete:function(){return a.unload(),b.loadCurrentSketch()}}),null},a.prototype.changeSketch=function(a){return"next"===a?this.currentSketch++:"prev"===a&&this.currentSketch--,this.currentSketch===this.sketches.length?this.currentSketch=0:this.currentSketch<0&&(this.currentSketch=this.sketches.length-1),null},a.prototype.loadCurrentSketch=function(){return this.sketches[this.currentSketch].sketch.load(),this.sketches[this.currentSketch].sketch.view.style.opacity=0,document.body.appendChild(this.sketches[this.currentSketch].sketch.view),TweenMax.to(this.sketches[this.currentSketch].sketch.view,1,{css:{opacity:1},ease:Power4.easeOut}),null},a.prototype.generateIpsum=function(a){var b;return b="<p class='body-copy'>Well, the way they make shows is, they make one show. That show's called a pilot. Then they show that show to the people who make shows, and on the strength of that one show they decide if they're going to make more shows. Some pilots get picked and become television programs. Some don't, become nothing. She starred in one of the ones that became nothing.<!-- please do not remove this line --><div style='display:none;'><a href='http://slipsum.com'>lorem ipsum</a></div></p>",b.replace(/show/g,a)},a}();