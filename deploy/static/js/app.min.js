/**
 * cor media 2013
 * @author: Mark Dooney (Desmarkie) 
 **/
var App,Dots,MathUtils,Node,Sketch,Smoky,Trails,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};Sketch=function(){function Sketch(renderer){this.renderer=renderer}return Sketch.prototype.view=null,Sketch.prototype.cancelled=!1,Sketch.prototype.loaded=!1,Sketch.prototype.renderer=null,Sketch.prototype.stage=null,Sketch.prototype.load=function(){return this.cancelled=!1,this.loaded||requestAnimationFrame(this.update),this.loaded=!0,this.stage.visible=!0,null},Sketch.prototype.unload=function(){return this.cancelled=!0,this.stage.visible=!1,null},Sketch.prototype.update=function(){return requestAnimationFrame(this.update),this.cancelled?void 0:null},Sketch.prototype.resize=function(){return null},Sketch}(),Dots=function(_super){function Dots(renderer){this.renderer=renderer,this.handleMouseMove=__bind(this.handleMouseMove,this),this.resize=__bind(this.resize,this),this.update=__bind(this.update,this),this.unload=__bind(this.unload,this),this.load=__bind(this.load,this),this.updateGui=__bind(this.updateGui,this),Dots.__super__.constructor.call(this,this.renderer)}return __extends(Dots,_super),Dots.id="Dots",Dots.prototype.dots=[],Dots.prototype.deadDots=[],Dots.prototype.xCounter=0,Dots.prototype.xLimit=0,Dots.prototype.xDir=1,Dots.prototype.yCounter=0,Dots.prototype.yLimit=0,Dots.prototype.yDir=1,Dots.prototype.curX=0,Dots.prototype.curY=0,Dots.prototype.mouseX=0,Dots.prototype.mouseY=0,Dots.prototype.easeX=0,Dots.prototype.easeY=0,Dots.prototype.spriteSize=32,Dots.prototype.invert=!0,Dots.prototype.mouseTrail=!0,Dots.prototype.xFollow=!1,Dots.prototype.xBounce=!0,Dots.prototype.xLeft=!1,Dots.prototype.xRight=!1,Dots.prototype.xOff=!1,Dots.prototype.lastX="follow",Dots.prototype.yFollow=!1,Dots.prototype.yBounce=!1,Dots.prototype.yUp=!1,Dots.prototype.yDown=!0,Dots.prototype.yOff=!1,Dots.prototype.lastY="follow",Dots.prototype.updateGui=function(){var c,_i,_len,_ref;for(_ref=this.gui.__controllers,_i=0,_len=_ref.length;_len>_i;_i++)c=_ref[_i],c.updateDisplay();return null},Dots.prototype.load=function(){var _this=this;return this.loaded||(this.stage=new PIXI.Stage(4013630),this.createSprites(),this.view=document.createElement("div"),this.view.appendChild(this.renderer.view),this.gui=new dat.GUI({autoPlace:!1}),this.gui.domElement.style.zIndex=100,this.gui.domElement.style.position="absolute",this.gui.domElement.style.top=0,this.gui.domElement.style.left=0,this.gui.domElement.style.height="auto",this.view.appendChild(this.gui.domElement),this.gui.add(this,"spriteSize",16,128).onFinishChange(function(val){return _this.spriteSize=val,_this.resize()}),this.gui.add(this,"invert"),this.gui.add(this,"mouseTrail"),this.gui.add(this,"xFollow").onChange(function(val){return _this.xFollow=val,(_this.xFollow=!0)?_this.xBounce=_this.xLeft=_this.xRight=_this.xOff=!1:(_this.lastX="follow",_this.xBounce=_this.xLeft=_this.xRight=!1,_this.xOff=!0),_this.updateGui()}),this.gui.add(this,"xBounce").onChange(function(val){return _this.xFollow=val,(_this.xBounce=!0)?_this.xFollow=_this.xLeft=_this.xRight=_this.xOff=!1:(_this.lastX="bounce",_this.xFollow=_this.xLeft=_this.xRight=!1,_this.xOff=!0),_this.updateGui()}),this.gui.add(this,"xLeft").onChange(function(val){return _this.xFollow=val,(_this.xLeft=!0)?(_this.xDir=-1,_this.xFollow=_this.xBounce=_this.xRight=_this.xOff=!1):(_this.lastX="left",_this.xFollow=_this.xBounce=_this.xRight=!1,_this.xOff=!0),_this.updateGui()}),this.gui.add(this,"xRight").onChange(function(val){return _this.xFollow=val,(_this.xRight=!0)?(_this.xDir=1,_this.xFollow=_this.xBounce=_this.xLeft=_this.xOff=!1):(_this.lastX="right",_this.xFollow=_this.xBounce=_this.xLeft=!1,_this.xOff=!0),_this.updateGui()}),this.gui.add(this,"xOff").onChange(function(val){return _this.xOff=val,_this.xOff?(_this.xFollow?_this.lastX="follow":_this.xBounce?_this.lastX="bounce":_this.xLeft?_this.lastX="left":_this.xRight&&(_this.lastX="right"),_this.xFollow=_this.xBounce=_this.xLeft=_this.xRight=!1):"follow"===_this.lastX?_this.xFollow=!0:"bounce"===_this.lastX?_this.xBounce=!0:"left"===_this.lastX?_this.xLeft=!0:"right"===_this.lastX&&(_this.xRight=!0),_this.updateGui()}),this.gui.add(this,"yFollow").onChange(function(val){return _this.yFollow=val,(_this.yFollow=!0)?_this.yBounce=_this.yUp=_this.yDown=_this.yOff=!1:(_this.lastY="follow",_this.yBounce=_this.yUp=_this.yDown=!1,_this.yOff=!0),_this.updateGui()}),this.gui.add(this,"yBounce").onChange(function(val){return _this.yFollow=val,(_this.yBounce=!0)?_this.yFollow=_this.yUp=_this.yDown=_this.yOff=!1:(_this.lastY="bounce",_this.yFollow=_this.yUp=_this.yDown=!1,_this.yOff=!0),_this.updateGui()}),this.gui.add(this,"yUp").onChange(function(val){return _this.yFollow=val,(_this.yUp=!0)?(_this.yDir=-1,_this.yFollow=_this.yBounce=_this.yDown=_this.yOff=!1):(_this.lastY="left",_this.yFollow=_this.yBounce=_this.yDown=!1,_this.yOff=!0),_this.updateGui()}),this.gui.add(this,"yDown").onChange(function(val){return _this.yFollow=val,(_this.yDown=!0)?(_this.yDir=1,_this.yFollow=_this.yBounce=_this.yUp=_this.yOff=!1):(_this.lastY="right",_this.yFollow=_this.yBounce=_this.yUp=!1,_this.yOff=!0),_this.updateGui()}),this.gui.add(this,"yOff").onChange(function(val){return _this.yOff=val,_this.yOff?(_this.yFollow?_this.lastY="follow":_this.yBounce?_this.lastY="bounce":_this.yUp?_this.lastY="up":_this.yDown&&(_this.lastY="down"),_this.yFollow=_this.yBounce=_this.yUp=_this.yDown=!1):"follow"===_this.lastY?_this.yFollow=!0:"bounce"===_this.lastY?_this.yBounce=!0:"up"===_this.lastY?_this.yUp=!0:"down"===_this.lastY&&(_this.yDown=!0),_this.updateGui()}),this.gui.close()),Dots.__super__.load.call(this),this.view.appendChild(this.renderer.view),this.xLimit=this.dots.length,this.yLimit=this.dots[0].length,window.onmousemove=this.handleMouseMove,null},Dots.prototype.unload=function(){return Dots.__super__.unload.call(this),window.onmousemove=null,null},Dots.prototype.update=function(){var i,j,sprite,tgtAlpha,_i,_j,_ref,_ref1;if(Dots.__super__.update.call(this),!this.cancelled){for(this.xFollow&&(this.xCounter=this.curX),this.yFollow&&(this.yCounter=this.curY),i=_i=0,_ref=this.xCount;_ref>=_i;i=_i+=1)for(j=_j=0,_ref1=this.yCount;_ref1>=_j;j=_j+=1)sprite=this.dots[i][j],tgtAlpha=1,this.invert&&(tgtAlpha=0),this.xOff||i!==this.xCounter||(sprite.alpha=tgtAlpha,sprite.scale.x=sprite.scale.y=tgtAlpha*(this.spriteSize/32)),this.yOff||j!==this.yCounter||(sprite.alpha=tgtAlpha,sprite.scale.x=sprite.scale.y=tgtAlpha*(this.spriteSize/32)),this.invert?sprite.alpha<1&&(sprite.alpha+=.05,sprite.scale.x+=.05,sprite.scale.y+=.05,sprite.alpha>1&&(sprite.alpha=1),sprite.scale.x>1&&(sprite.scale.x=sprite.scale.y=this.spriteSize/32)):sprite.alpha>0&&(sprite.alpha-=.05,sprite.scale.x-=.05,sprite.scale.y-=.05,sprite.alpha<0&&(sprite.alpha=0),sprite.scale.x<0&&sprite.scale.x-(sprite.scale.y=0));return this.xOff||(this.xCounter+=this.xDir,this.xLeft||this.xRight?(this.xCounter%=this.xLimit,this.xCounter<0&&(this.xCounter=this.xLimit-1)):this.xBounce&&(this.xCounter===this.xLimit?(this.xCounter=this.xLimit-2,this.xDir*=-1):this.xCounter<0&&(this.xCounter=1,this.xDir*=-1))),this.yOff||(this.yCounter+=this.yDir,this.yUp||this.yDown?(this.yCounter%=this.yLimit,this.yCounter<0&&(this.yCounter=this.yLimit-1)):this.yBounce&&(this.yCounter===this.yLimit?(this.yCounter=this.yLimit-2,this.yDir*=-1):this.yCounter<0&&(this.yCounter=1,this.yDir*=-1))),this.easeX+=(this.mouseX-this.easeX)/45,this.easeY+=(this.mouseY-this.easeY)/45,this.curX=Math.floor(this.easeX/this.spriteSize),this.curY=Math.floor(this.easeY/this.spriteSize),this.renderer.render(this.stage),null}},Dots.prototype.resize=function(){var i,j,_i,_j,_ref,_ref1;for(i=_i=_ref=this.dots.length-1;_i>=0;i=_i+=-1)for(j=_j=_ref1=this.dots[i].length-1;_j>=0;j=_j+=-1)this.stage.removeChild(this.dots[i][j]),this.dots[i].splice(j,1);return this.dots=[],this.createSprites(),this.xLimit=this.dots.length,this.yLimit=this.dots[0].length,null},Dots.prototype.handleMouseMove=function(e){var tgtAlpha,xid,yid;return this.mouseX=e.pageX,this.mouseY=e.pageY,this.mouseTrail&&(xid=Math.floor(this.mouseX/this.spriteSize),yid=Math.floor(this.mouseY/this.spriteSize),tgtAlpha=1,this.invert&&(tgtAlpha=0),this.dots[xid][yid].alpha=tgtAlpha,this.dots[xid]&&this.dots[xid][yid-1]&&(this.dots[xid][yid-1].alpha=tgtAlpha,this.dots[xid][yid-1].scale.x=this.dots[xid][yid-1].scale.y=tgtAlpha*(this.spriteSize/32)),this.dots[xid]&&this.dots[xid][yid+1]&&(this.dots[xid][yid+1].alpha=tgtAlpha,this.dots[xid][yid+1].scale.x=this.dots[xid][yid+1].scale.y=tgtAlpha*(this.spriteSize/32)),this.dots[xid-1]&&this.dots[xid-1][yid]&&(this.dots[xid-1][yid].alpha=tgtAlpha,this.dots[xid-1][yid].scale.x=this.dots[xid-1][yid].scale.y=tgtAlpha*(this.spriteSize/32)),this.dots[xid+1]&&this.dots[xid+1][yid]&&(this.dots[xid+1][yid].alpha=tgtAlpha,this.dots[xid+1][yid].scale.x=this.dots[xid+1][yid].scale.y=tgtAlpha*(this.spriteSize/32))),null},Dots.prototype.createSprites=function(){var i,j,sp,_i,_j,_ref,_ref1;for(this.xCount=Math.round(window.innerWidth/this.spriteSize),this.yCount=Math.round(window.innerHeight/this.spriteSize),i=_i=0,_ref=this.xCount;_ref>=_i;i=_i+=1)for(this.dots[i]=[],j=_j=0,_ref1=this.yCount;_ref1>=_j;j=_j+=1)0===this.deadDots.length?sp=new PIXI.Sprite(window.app.textures[0]):(sp=this.deadDots[0],this.deadDots.splice(0,1)),sp.scale.x=sp.scale.y=this.spriteSize/32,sp.position.x=i*this.spriteSize,sp.position.y=j*this.spriteSize,this.dots[i][j]=sp,sp.alpha=0,this.stage.addChild(sp);return null},Dots}(Sketch),Node=function(){function Node(x,y,view){this.x=x,this.y=y,this.view=view,this.xVel=3-6*Math.random(),this.yVel=3-6*Math.random(),this.sinPos=360*Math.random(),this.sinIncrement=.5*Math.random(),this.scaleAmount=2*Math.random()}return Node.prototype.x=0,Node.prototype.y=0,Node.prototype.view=null,Node.prototype.xVel=0,Node.prototype.yVel=0,Node.prototype.scale=1,Node.prototype.sinPos=0,Node.prototype.sinIncrement=1,Node.prototype.scaleAmount=.5,Node}(),Smoky=function(_super){function Smoky(renderer){this.renderer=renderer,this.mouseMove=__bind(this.mouseMove,this),this.update=__bind(this.update,this),this.resize=__bind(this.resize,this),this.unload=__bind(this.unload,this),this.load=__bind(this.load,this),this.checkDistSq=this.checkDist*this.checkDist,Smoky.__super__.constructor.call(this,this.renderer)}return __extends(Smoky,_super),Smoky.id="Smoky",Smoky.prototype.numNodes=200,Smoky.prototype.checkDist=100,Smoky.prototype.checkDistSq=0,Smoky.prototype.nodes=[],Smoky.prototype.sprites=[],Smoky.prototype.load=function(){return this.loaded?(window.onmousemove=this.mouseMove,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.areaWidth=this.windowWidth+400,this.areaHeight=this.windowHeight+400,this.view.appendChild(this.renderer.view),Smoky.__super__.load.call(this),void 0):(this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.areaWidth=this.windowWidth+400,this.areaHeight=this.windowHeight+400,this.stage=new PIXI.Stage(4013630),this.view=document.createElement("div"),this.view.appendChild(this.renderer.view),this.createNodes(),this.createSprites(),window.onmousemove=this.mouseMove,Smoky.__super__.load.call(this),console.log("LOAD DONE :: "+Smoky.id))},Smoky.prototype.unload=function(){return window.onmousemove=null,Smoky.__super__.unload.call(this),console.log("DESTROYED IT "+this.cancelled),null},Smoky.prototype.resize=function(){return null},Smoky.prototype.createNodes=function(){var i,_i,_ref;for(console.log("CREATING NODES"),i=_i=0,_ref=this.numNodes;_ref>=_i;i=_i+=1)this.nodes.push(new Node(Math.random()*this.windowWidth,Math.random()*this.windowHeight));return null},Smoky.prototype.createSprites=function(){var i,sp,_i,_ref;for(console.log("CREATING SPRITES"),this.tex=window.app.textures[0],i=_i=0,_ref=this.numNodes;_ref>=_i;i=_i+=1)sp=new PIXI.Sprite(this.tex),sp.pivot.x=16,sp.pivot.y=16,sp.blendMode=PIXI.blendModes.SCREEN,sp.alpha=.1+.2*Math.random(),this.sprites.push(sp),this.stage.addChild(sp);return null},Smoky.prototype.updateSprites=function(){var distTo,i,_i,_ref;for(i=_i=0,_ref=this.numNodes;_ref>=_i;i=_i+=1)this.nodes[i].x+=this.nodes[i].xVel,this.nodes[i].y+=this.nodes[i].yVel,this.nodes[i].sinPos+=this.nodes[i].sinIncrement,this.nodes[i].sinPos%=360,this.nodes[i].scale=10+Math.sin(this.nodes[i].sinPos*(Math.PI/180))*this.nodes[i].scaleAmount,this.nodes[i].x>this.windowWidth+200?this.nodes[i].x-=this.areaWidth:this.nodes[i].x<-200&&(this.nodes[i].x+=this.areaWidth),this.nodes[i].y>this.windowHeight+200?this.nodes[i].y-=this.areaHeight:this.nodes[i].y<-200&&(this.nodes[i].y+=this.areaHeight),distTo=this.distanceTo(this.nodes[i],{x:this.curX,y:this.curY}),distTo.dist<this.checkDistSq&&(this.nodes[i].xVel=-1*distTo.xDif/this.checkDist*5,this.nodes[i].yVel=-1*distTo.yDif/this.checkDist*5),this.sprites[i].position.x=this.nodes[i].x,this.sprites[i].position.y=this.nodes[i].y,this.sprites[i].scale.x=this.sprites[i].scale.y=this.nodes[i].scale;return null},Smoky.prototype.distanceTo=function(object,target){var xDif,yDif;return xDif=target.x-object.x,yDif=target.y-object.y,{xDif:xDif,yDif:yDif,dist:xDif*xDif+yDif*yDif}},Smoky.prototype.update=function(){return Smoky.__super__.update.call(this),this.cancelled?void 0:(this.updateSprites(),this.renderer.render(this.stage),null)},Smoky.prototype.mouseMove=function(e){return this.curX=e.pageX,this.curY=e.pageY,null},Smoky}(Sketch),MathUtils=function(){function MathUtils(){}return MathUtils.degToRadValue=Math.PI/180,MathUtils.radToDegValue=180/Math.PI,MathUtils.twoPI=2*Math.PI,MathUtils.degToRad=function(val){return val*MathUtils.degToRadValue},MathUtils.radToDeg=function(val){return val*MathUtils.radToDegValue},MathUtils}(),Trails=function(_super){function Trails(renderer){this.renderer=renderer,this.handleMouseMove=__bind(this.handleMouseMove,this),this.update=__bind(this.update,this),this.unload=__bind(this.unload,this),this.load=__bind(this.load,this),Trails.__super__.constructor.call(this,this.renderer),this.toAdd=1e-11,this.sinIncrement=MathUtils.twoPI/18}return __extends(Trails,_super),Trails.id="Trails",Trails.prototype.trailLength=70,Trails.prototype.sprites=[],Trails.prototype.positions=[],Trails.prototype.sinOffset=0,Trails.prototype.sinIncrement=0,Trails.prototype.maxScale=4,Trails.prototype.minScale=1,Trails.prototype.wobbleAngle=17,Trails.prototype.load=function(){var i,sp,_i,_ref,_this=this;if(this.loaded)this.gui.domElement.style.display="block",this.gui.close(),this.view.appendChild(this.renderer.view),window.onmousemove=this.handleMouseMove,Trails.__super__.load.call(this);else{for(this.curX=this.mouseX=.5*window.innerWidth,this.curY=this.mouseY=.5*window.innerHeight,this.stage=new PIXI.Stage(4013630),i=_i=0,_ref=this.trailLength-1;_ref>=_i;i=_i+=1)sp=new PIXI.Sprite(window.app.textures[0]),sp.alpha=0,sp.pivot.x=16,sp.pivot.y=16,this.stage.addChild(sp),this.sprites.push(sp);this.view=document.createElement("div"),this.view.appendChild(this.renderer.view),window.onmousemove=this.handleMouseMove,this.gui=new dat.GUI({autoPlace:!1}),this.gui.domElement.style.zIndex=100,this.gui.domElement.style.position="absolute",this.gui.domElement.style.top=0,this.gui.domElement.style.left=0,this.gui.domElement.style.height="auto",this.view.appendChild(this.gui.domElement),this.gui.add(this,"sinIncrement",0,MathUtils.twoPI/5),this.gui.add(this,"wobbleAngle",0,90),this.gui.add(this,"maxScale",0,10).listen().onChange(function(){return _this.maxScale<_this.minScale?_this.minScale=_this.maxScale:void 0}),this.gui.add(this,"minScale",0,10).listen().onChange(function(){return _this.minScale>_this.maxScale?_this.maxScale=_this.minScale:void 0}),this.gui.close(),Trails.__super__.load.call(this)}return null},Trails.prototype.unload=function(){return window.onmousemove=null,this.gui.domElement.style.display="none",Trails.__super__.unload.call(this),null},Trails.prototype.update=function(){var angle,dist,newX,newY,p,pos,vecX,vecY,_i,_len,_ref;if(Trails.__super__.update.call(this),!this.cancelled){for(angle=MathUtils.degToRad(Math.sin(this.sinOffset)*this.wobbleAngle),vecX=this.mouseX-this.curX,vecY=this.mouseY-this.curY,newX=vecX*Math.cos(angle)-vecY*Math.sin(angle),newY=vecX*Math.sin(angle)+vecY*Math.cos(angle),this.curX+=newX/100,this.curY+=newY/100,this.positions.push({x:this.curX,y:this.curY}),this.positions.length>this.trailLength&&this.positions.splice(0,1),_ref=this.positions,p=_i=0,_len=_ref.length;_len>_i;p=++_i)pos=_ref[p],this.sprites[p].scale.x=this.minScale+p/this.trailLength*this.maxScale,this.sprites[p].scale.y=this.minScale+p/this.trailLength*this.maxScale,this.sprites[p].position.x=pos.x,this.sprites[p].position.y=pos.y,this.sprites[p].alpha=p/this.trailLength;return this.renderer.render(this.stage),dist=Math.sqrt(vecX*vecX+vecY*vecY),0===dist&&(dist=1),this.toAdd=MathUtils.degToRad(30/dist),this.sinOffset+=this.sinIncrement+this.toAdd,this.sinOffset%=MathUtils.twoPI,null}},Trails.prototype.handleMouseMove=function(e){return this.mouseX=e.pageX,this.mouseY=e.pageY,null},Trails}(Sketch),App=function(){function App(){this.prev=__bind(this.prev,this),this.next=__bind(this.next,this),this.handleKeyPress=__bind(this.handleKeyPress,this),this.handleInterfaceOver=__bind(this.handleInterfaceOver,this),this.handleInterfaceOut=__bind(this.handleInterfaceOut,this),this.handleMenuClick=__bind(this.handleMenuClick,this),this.handleInfoClick=__bind(this.handleInfoClick,this),this.handleDivOut=__bind(this.handleDivOut,this),this.handleDivOver=__bind(this.handleDivOver,this),this.init=__bind(this.init,this);var i,toDo,_i,_len,_this=this;for(this.renderer=PIXI.autoDetectRenderer(window.innerWidth,window.innerHeight),window.onresize=function(){var sketch,_i,_len,_ref,_results;for(_this.renderer.resize(window.innerWidth,window.innerHeight),_ref=_this.sketches,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)sketch=_ref[_i],_results.push(sketch.sketch.resize());return _results},toDo=[Smoky,Trails,Dots],this.textures=[PIXI.Texture.fromImage("/img/node.png")],this.sketches=[],_i=0,_len=toDo.length;_len>_i;_i++)i=toDo[_i],this.sketches.push({sketch:new i(this.renderer),id:i.id});this.numSketches=this.sketches.length,this.currentSketch=this.sketches.length-1,this["interface"]=document.getElementById("interface"),this.infoButton=document.getElementById("info-button"),this.infoButton.onmouseover=this.handleInterfaceOver,this.infoButton.onmouseout=this.handleInterfaceOut,this.infoButton.onclick=this.handleInfoClick,this.menuButton=document.getElementById("menu-button"),this.menuButton.onmouseover=this.handleInterfaceOver,this.menuButton.onmouseout=this.handleInterfaceOut,this.menuButton.onclick=this.handleMenuClick,this.menuPanel=document.getElementById("menu-panel"),this.nextButton=document.getElementById("next-sketch"),this.prevButton=document.getElementById("previous-sketch"),this.currentButton=document.getElementById("current-sketch"),this.nextButton.onclick=this.next,this.prevButton.onclick=this.prev,this.currentButton.onclick=this.handleMenuClick,this.nextButton.onmouseover=this.prevButton.onmouseover=this.currentButton.onmouseover=this.handleDivOver,this.nextButton.onmouseout=this.prevButton.onmouseout=this.currentButton.onmouseout=this.handleDivOut,this.init()}return App.prototype.sketches=null,App.prototype.currentSketch=0,App.prototype.numSketches=null,App.prototype.liveSketch=null,App.prototype.textures=null,App.prototype.menuPanel=null,App.prototype.infoButton=null,App.prototype.menuButton=null,App.prototype.menuOpen=!1,App.prototype.infoOpen=!1,App.prototype.init=function(){return window.onkeyup=this.handleKeyPress,null},App.prototype.handleDivOver=function(e){return(e.target===this.nextButton||e.target===this.prevButton||e.target===this.currentButton)&&TweenMax.to(e.target,.3,{css:{color:"rgb(255, 0, 61)"},ease:Power4.easeOut}),null},App.prototype.handleDivOut=function(e){return(e.target===this.nextButton||e.target===this.prevButton||e.target===this.currentButton)&&TweenMax.to(e.target,2,{css:{color:"#dedede"},ease:Power4.easeOut}),null},App.prototype.handleInfoClick=function(){return null},App.prototype.handleMenuClick=function(){var _this=this;return this.menuOpen=!this.menuOpen,this.menuOpen?($(this.menuPanel).css("z-index","1200"),TweenMax.to(this.menuPanel,.5,{css:{opacity:1},ease:Power4.easeOut}),TweenMax.to(this.infoButton,.5,{css:{color:"#e3e3e3"},ease:Power4.easeOut})):(TweenMax.to(this.menuPanel,.5,{css:{opacity:0},ease:Power4.easeOut,onComplete:function(){return $(_this.menuPanel).css("z-index","1")}}),TweenMax.to(this.infoButton,.5,{css:{color:"#0e0e0e"},ease:Power4.easeOut})),null},App.prototype.handleInterfaceOut=function(e){return this.menuOpen&&e.target!==this.menuButton?TweenMax.to(e.target,2,{css:{color:"#e3e3e3"},ease:Power4.easeOut}):this.infoOpen&&e.target!==this.infoButton?TweenMax.to(e.target,2,{css:{color:"#e3e3e3"},ease:Power4.easeOut}):TweenMax.to(e.target,2,{css:{color:"#0e0e0e"},ease:Power4.easeOut}),null},App.prototype.handleInterfaceOver=function(e){return TweenMax.to(e.target,.15,{css:{color:"rgb(255, 0, 61)"},ease:Power4.easeOut}),null},App.prototype.handleKeyPress=function(e){var unicode;return e.preventDefault(),unicode=e.keyCode?e.keyCode:e.charCode,37===unicode?this.prev():39===unicode&&this.next(),null},App.prototype.next=function(){var lastSketch;return lastSketch=this.sketches[this.currentSketch],this.changeSketch("next"),this.unloadSketch(lastSketch.sketch),this.updateInfoContent(),null},App.prototype.prev=function(){var lastSketch;return lastSketch=this.sketches[this.currentSketch],this.changeSketch("prev"),this.unloadSketch(lastSketch.sketch),this.updateInfoContent(),null},App.prototype.updateInfoContent=function(){var nextId,prevId;return prevId=this.currentSketch-1,0>prevId&&(prevId=this.sketches.length-1),nextId=this.currentSketch+1,nextId===this.sketches.length&&(nextId=0),this.currentButton.innerHTML='<p class="title-copy">'+this.sketches[this.currentSketch].id+"</p>"+this.generateIpsum(this.sketches[this.currentSketch].id),this.prevButton.innerHTML='<p class="title-copy">'+this.sketches[prevId].id+"</p>",this.nextButton.innerHTML='<p class="title-copy">'+this.sketches[nextId].id+"</p>",null},App.prototype.unloadSketch=function(sketch){var _this=this;return TweenMax.to(sketch.view,1,{css:{opacity:0},ease:Power4.easeOut,onComplete:function(){return sketch.unload(),_this.loadCurrentSketch()}}),null},App.prototype.changeSketch=function(dir){return"next"===dir?this.currentSketch++:"prev"===dir&&this.currentSketch--,this.currentSketch===this.sketches.length?this.currentSketch=0:this.currentSketch<0&&(this.currentSketch=this.sketches.length-1),null},App.prototype.loadCurrentSketch=function(){return this.sketches[this.currentSketch].sketch.load(),this.sketches[this.currentSketch].sketch.view.style.opacity=0,document.body.appendChild(this.sketches[this.currentSketch].sketch.view),TweenMax.to(this.sketches[this.currentSketch].sketch.view,1,{css:{opacity:1},ease:Power4.easeOut}),null},App.prototype.generateIpsum=function(label){var str;return str="<p class='body-copy'>Well, the way they make shows is, they make one show. That show's called a pilot. Then they show that show to the people who make shows, and on the strength of that one show they decide if they're going to make more shows. Some pilots get picked and become television programs. Some don't, become nothing. She starred in one of the ones that became nothing.<!-- please do not remove this line --><div style='display:none;'><a href='http://slipsum.com'>lorem ipsum</a></div></p>",str.replace(/show/g,label)},App}();